<!Doctype>
<html>
<head>
	<script src="https://aframe.io/releases/0.9.0/aframe.min.js"></script>
	<script src="//cdn.rawgit.com/donmccurdy/aframe-extras/v4.1.2/dist/aframe-extras.min.js"></script>
	<script src="https://unpkg.com/super-hands@2.1.0/dist/super-hands.min.js"></script>
	<script src="https://unpkg.com/aframe-event-set-component@^4.0.0/dist/aframe-event-set-component.min.js"></script>
	<link rel="icon" href="data:;base64,iVBORw0KGgo=">
	<script>
	window.onload = function() {
		var context = new AudioContext();
		}
		AFRAME.registerComponent('play', {
			init: function () {
				var entity = document.querySelector('#musplayer');
				this.el.addEventListener('click', function() {
					entity.components.sound.playSound();
					console.log('Playback resumed successfully');
				});
			}
		});
		AFRAME.registerComponent('pause', {
			init: function () {
				var entity = document.querySelector('#musplayer');
				this.el.addEventListener('click', function () {
					entity.components.sound.pauseSound();
					console.log('Playback resumed successfully');
				});
			}
		});
		AFRAME.registerComponent('stop', {
			init: function () {
				var entity = document.querySelector('#musplayer');
				this.el.addEventListener('click', function () {
					entity.components.sound.stopSound();
					console.log('Playback resumed successfully');
				});
			}
		});


		AFRAME.registerComponent('play', {
			init: function () {
				var entity = document.querySelector('#musplayer');
				this.el.addEventListener('click', function() {
					entity.components.sound.playSound();
					console.log('Playback resumed successfully');
				});
			}
		});
		AFRAME.registerComponent('pause', {
			init: function () {
				var entity = document.querySelector('#musplayer');
				this.el.addEventListener('click', function () {
					entity.components.sound.pauseSound();
					console.log('Playback resumed successfully');
				});
			}
		});
		AFRAME.registerComponent('stop', {
			init: function () {
				var entity = document.querySelector('#musplayer');
				this.el.addEventListener('click', function () {
					entity.components.sound.stopSound();
					console.log('Playback resumed successfully');
				});
			}
		});
		
	AFRAME.registerComponent('play-pause', {
			init: function () {
				var myVideo = document.querySelector('#potavid');
				var videoControls = document.querySelector('#videoControls');
				this.el.addEventListener('click', function () {
					if (myVideo.paused) {
						myVideo.play();
						videoControls.setAttribute('src', '#pause');
					} else {
						myVideo.pause();
						videoControls.setAttribute('src', '#play');
					}
				});
			}
		});
	</script>
</head>
<body>
<a-scene>
	<!-- 存藏庫 -->
	<a-assit>
	<!-- 圖片 -->
	<img id="1" src="img/1.JPG">
	<img id="2" src="img/2.JPG">
	<img id="3" src="img/3.JPG">
	<img id="4" src="img/4.JPG">
	<img id="5" src="img/5.JPG">
	<img id="6" src="img/6.JPG">
	<img id="7" src="img/7.JPG">
	<img id="8" src="img/8.JPG">
	<img id="floor" src="img/floor.png">
	<img id="footsteps" src="img/footsteps.png">
	<img id="black" src="img/black.png">
	<img id="playmu" src="img/play.png">
	<img id="pausemu" src="img/pause.png">
	<img id="stopmu" src="img/stop.png">
	<img id="notes" src="img/notes.png">
	<img id="videoplayer" src="img/videoplayer.png">
	<img id="volume" src="img/volume.png">
	<img id="play" src="img/play.png">
    <img id="pause" src="img/pause.png">
	<img id="video1" src="img/videoplayer.png">
	<!-- 音效 -->
	<audio id="mus" src="mus/mus.mp3"></audio>
	<audio id="pota" src="mus/pota.mp3">
	<!-- 視頻 -->
	
    <video id="YOUR-VIDEO-ID" src="video/video1.mp4" loop="true"></video>
	<video id="potavid" src="video/pota.mp4" loop="true"></video>
	</a-assit>
	<!-- 球形 -->
	<a-sky radius="10" src="#3" position="0 0 0" rotation="0 90 0" ></a-sky>
	<a-sky radius="10" src="#7" position="0 0 -20" rotation="0 90 0"></a-sky>
	<a-sky radius="10" src="#5" position="0 0 -40" rotation="0 270 0"></a-sky>
	<a-sky radius="10" src="#6" position="-20 0 -20" rotation="0 180 0"></a-sky>
	<a-sky radius="10" src="#1" position="-20 0 -40" rotation="0 90 0"></a-sky>
	<a-sky radius="10" src="#8" position="20 0 -40" rotation="0 270 0"></a-sky>
	<a-sky radius="10" src="#2" position="-40 0 -40" rotation="0 90 0"></a-sky>
	<a-sky radius="10" src="#4" position="40 0 -40" rotation="0 270 0"></a-sky>
		<!-- 音樂播放器 -->
		<!-- <a-entity geometry="primitive: circle; radius: 0.45" material="src:#volume"  id="musplayer" position="-6 0 -44" rotation="0 38 0" sound="src: #pota"> -->
		<!-- <a-entity geometry="primitive: circle; radius: 0.5" material="src:#playmu" position="-1.5 -1.5 0" play></a-entity> -->
		<!-- <a-entity geometry="primitive: circle; radius: 0.5" material="src:#pausemu" position="0 -1.5 0" pause></a-entity> -->
		<!-- <a-entity geometry="primitive: circle; radius: 0.5" material="src:#stopmu" position="1.5 -1.5 0" stop></a-entity> -->
		<!-- </a-entity> -->
	<a-image position="-6 0 -44"  id="button0" src="#note1"
	event-set__tarvis="_event: click; _target: #floor0; position: -6 10 -44" 
	event-set__resvis="_event: click; _target: #avid; position: -6 10 -44">
	</a-image>
	<a-image position="-6 1 -44"  id="button1" src="#volume"
	event-set__tarvis="_event: click; _target: #floor0; position: -6 -10 -44" 
	event-set__resvis="_event: click; _target: #avid; position: -6 0 -44" stop>
	</a-image>
	<a-image position="-6 -1 -44"  id="button2" src="#video1"
	event-set__tarvis="_event: click; _target: #floor0; position: -6 0 -44" 
	event-set__resvis="_event: click; _target: #avid; position: -6 -10 -44" stop01>
	</a-image>
	
	<!-- <a-image material="src:#mufloor" scale="7 7 7" id="imgfloor" position="0.25 -10 -7.5"></a-image> -->
	<!-- <a-image material="src:#muflooren" scale="7 7 7" id="imgflooren" position="0.25 -10 -7.5"></a-image> -->
	<a-entity id="floor0" position="0 -12 -44" rotation="0 0 0" sound="src: #pota">
		<a-entity geometry="primitive: circle; radius: 0.5" material="src:#playmu" position="-1.5 -2.5 2" play></a-entity>
		<a-entity geometry="primitive: circle; radius: 0.5" material="src:#pausemu" position="0 -2.5 2"  pause></a-entity>
		<a-entity geometry="primitive: circle; radius: 0.5" material="src:#stopmu" position="1.5 -2.5 2"  stop></a-entity>
	</a-entity>
	
		<!-- 導覽顯現消失 -->
		
		<!-- <a-image id="note1" src="#notes" position="8 0 0" rotation="0 90 0" visible="false"></a-image> -->
		<!-- <a-entity geometry="primitive: plane; height: 1; width: 1" material="src:#playmu" position="8 0 -2" rotation="0 270 0" -->
				<!-- event-set__tarvis="_event: click; _target: #note1; visible: true"> -->
		
		<!-- </a-entity> -->
		<!-- <a-entity geometry="primitive: plane; height: 1; width: 1" material="src:#stopmu" position="8 0 2" rotation="0 270 0" -->
				<!-- event-set__tarvis="_event: click; _target: #note1; visible: false"> -->
		<!-- </a-entity> -->
		
		<!-- 播放影片 -->
		
		<a-video src="#potavid" width="8" height="4.5" position="0 12 -44" id="avid">
			<!-- Play/Pause -->
			<a-image id="videoControls" src="#play" position="0 -3 0" scale="0.5 0.5 1" rotation="0 180 0"
					 play-pause>
			</a-image>
		</a-video>
		<a-image src="#playmu" position="2 0 8" look-at="cam-ra" event-set__tarvis="_event: click; _target: #avid; visible: true" rotation="0 180 0">
		</a-image>
		<a-image src="#stopmu" position="-2 0 8" look-at="cam-ra" event-set__tarvis="_event: click; _target: #avid; visible: false" rotation="0 180 0">
		</a-image>
				
		<!-- 地板圖 -->
		<a-image src="#floor" position="0 -1 -1" rotation="-90 0 0" height="3" width="3"></a-image>
		<a-image src="#floor" position="0 -1 -21" rotation="-90 0 0" height="3" width="3"></a-image>
		<a-image src="#floor" position="0.2 -1 -40" rotation="-90 0 0" height="3" width="3"></a-image>
		<a-image src="#floor" position="-20 -1 -39.5" rotation="-90 0 0" height="3" width="3"></a-image>
		<a-image src="#floor" position="20 -1 -40" rotation="-90 0 0" height="3" width="3"></a-image>
		<a-image src="#floor" position="-40 -1 -39.5" rotation="-90 0 0" height="3" width="3"></a-image>
		<a-image src="#floor" position="40 -1 -39" rotation="-90 0 0" height="3" width="3"></a-image>
		
		<!-- 去程 -->
		<!-- 傳送點 0 0 -20-->
		<a-image src="#footsteps" position="-0.5 -3 -6" rotation="-90 0 0" checkpoint="offset: 0.5 3 -14" look-at="#cam-rig">
		</a-image>
		<!-- 傳送點 0 0 -40-->
		<a-image src="#footsteps" position="-0.5 -3 -26" rotation="-90 0 0" checkpoint="offset: 0.5 3 -14" look-at="#cam-rig">
		</a-image>
		<!-- 傳送點 20 0 -40 -->
		<a-image src="#footsteps" position="8.5 -3 -39.5" rotation="-90 0 0" checkpoint="offset: 11.5 3 -0.5" look-at="#cam-rig">
		</a-image>
		<!-- 傳送點 -20 0 -40 -->
		<a-image src="#footsteps" position="-8.5 -3 -39.5" rotation="-90 0 0" checkpoint="offset: -11.5 3 -0.5" look-at="#cam-rig">
		</a-image>
		<!-- 傳送點 -20 0 -20 -->
		<a-image src="#footsteps" position="-25 -3 -33.5" rotation="-90 0 0" checkpoint="offset: 5 3 13.5" look-at="#cam-rig">
		</a-image>
		<!-- 傳送點 -20 0 -20 -->
		<a-image src="#footsteps" position="-37.5 -3 -32.5" rotation="-90 0 0" checkpoint="offset: 17.5 3 12.5" look-at="#cam-rig">
		</a-image>
		<!-- 傳送點 -40 0 -40 -->
		<a-image src="#footsteps" position="-28.5 -3 -39.5" rotation="-90 0 0" checkpoint="offset: -11.5 3 -0.5" look-at="#cam-rig">
		</a-image>
		<!-- 傳送點 40 0 -40 -->
		<a-image src="#footsteps" position="28.5 -3 -39.5" rotation="-90 0 0" checkpoint="offset: 11.5 3 -0.5" look-at="#cam-rig">
		</a-image>
		<!-- 回程 -->
		<!-- 傳送點 -20 0 -40 -->
		<a-image src="#footsteps" position="-31.5 -3 -39.5" rotation="-90 0 0" checkpoint="offset: 11.5 3 -0.5" look-at="#cam-rig">
		</a-image>
		<!-- 傳送點 -40 0 -40 -->
		<a-image src="#footsteps" position="-26.5 -3 -25" rotation="-90 0 0" checkpoint="offset: -13.5 3 -15" look-at="#cam-rig">
		</a-image>
		<!-- 傳送點 20 0 -40 -->
		<a-image src="#footsteps" position="31.5 -3 -39.5" rotation="-90 0 0" checkpoint="offset: -11.5 3 -0.5" look-at="#cam-rig">
		</a-image>
		<!-- 傳送點 0 0 -40 -->
		<a-image src="#footsteps" position="-11.5 -3 -39.5" rotation="-90 0 0" checkpoint="offset: 11.5 3 -0.5" look-at="#cam-rig">
		</a-image>
		<!-- 傳送點 0 0 -40 -->
		<a-image src="#footsteps" position="11.5 -3 -39.5" rotation="-90 0 0" checkpoint="offset: -11.5 3 -0.5" look-at="#cam-rig">
		</a-image>
		<!-- 傳送點 0 0 -20-->
		<a-image src="#footsteps" position="-0.5 -3 -36" rotation="-90 0 0" checkpoint="offset: 0.5 3 16" look-at="#cam-rig">
		</a-image>
		<!-- 傳送點 0 0 0-->
		<a-image src="#footsteps" position="-0.5 -3 -16" rotation="-90 0 0" checkpoint="offset: 0.5 3 16" look-at="#cam-rig">
		</a-image>
		
		
		
		<!-- 相機 -->
		<a-entity id="cam-rig"
		          
			  	  movement-controls="controls: checkpoint"
				  checkpoint-controls="mode: animate; animateSpeed: 25.0"
				   event-set__start="_target: #blink; _event: navigation-start;
				  					animation.property: opacity;
				  					animation.to: 1;
				  					animation.dur: 1500;
				  					animation.easing: easeOutQuart"
				  event-set__end="_target: #blink; _event: navigation-end;
				  				  animation.to: 0">
			<!-- 相機控制 -->
			<a-entity progressive-controls>
				<a-camera id="cam-ra">
					<a-image id="blink" src="#black" cursor="fuse:true; fuseTimeout:2000" position="0 0 -0.3" opacity="0" height="100%" width="100%">
					</a-image>
				</a-camera>
			</a-entity>
		</a-entity>
</a-scene>
</body>
</html>